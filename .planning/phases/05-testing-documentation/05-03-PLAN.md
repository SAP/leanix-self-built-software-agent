---
phase: 05-testing-documentation
plan: 03
type: execute
---

<objective>
Document the context system in README and create example context files.

Purpose: Enable users to understand and use the context system effectively.
Output: Updated README with context documentation, example files in docs/examples/.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase summaries:
@.planning/phases/01-context-model/01-01-SUMMARY.md
@.planning/phases/02-context-discovery/02-01-SUMMARY.md
@.planning/phases/03-agent-integration/03-01-SUMMARY.md
@.planning/phases/04-cli-integration/04-01-SUMMARY.md

# Current README:
@README.md

**Accumulated decisions:**
- Context files stored at `~/.sbs-discovery/{org}.md` for org-level
- Repo context at `.sbs-discovery.md` in repository root
- CLI flags `--org-context` and `--repo-context` for overrides
- Inheritance: repo context extends/overrides org context
- Simple markdown format (no special syntax required)
- 4000 char limit for context to prevent token bloat
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add context system documentation to README</name>
  <files>README.md</files>
  <action>
Add a new section "## User-Provided Context" after the "### Discover Repositories" section.

Include:
1. **Overview**: What context files are and why they help
2. **File locations**:
   - Organization: `~/.sbs-discovery/{org}.md`
   - Repository: `.sbs-discovery.md` in repo root
3. **Inheritance model**: Repo extends/overrides org context
4. **CLI flags**: `--org-context` and `--repo-context` for overrides
5. **Example usage**:
   ```bash
   # Auto-detect context files
   sbs-ai-discovery discover --org myorg

   # Override with specific context file
   sbs-ai-discovery discover --org myorg --org-context ./custom-context.md
   ```
6. **What to include**: Service naming patterns, tech stack hints, team ownership rules, deployment indicators

Keep it concise (100-150 lines max). Reference docs/examples/ for full examples.
  </action>
  <verify>Read README.md and verify new section exists with all required content</verify>
  <done>README contains complete context documentation section</done>
</task>

<task type="auto">
  <name>Task 2: Create example context files</name>
  <files>docs/examples/org-context-example.md, docs/examples/repo-context-example.md</files>
  <action>
Create docs/examples/ directory with two example files:

**org-context-example.md** - Organization-level context example:
```markdown
# ACME Corp Discovery Context

## Service Naming
- All services follow pattern: `acme-{team}-{service}`
- Teams: platform, payments, users, orders

## Tech Stack
- Backend: Python FastAPI or Go
- Frontend: React with TypeScript
- Database: PostgreSQL (primary), Redis (cache)
- Messaging: Apache Kafka

## Deployment
- All deployable services have Dockerfile in root
- Kubernetes manifests in `/k8s` directory
- CI/CD via GitHub Actions

## Team Ownership
- `platform-*` repos owned by Platform Engineering
- `payments-*` repos owned by Payments Team
```

**repo-context-example.md** - Repository-level context example:
```markdown
# Repository Discovery Context

## About This Repository
This is the main user authentication service for ACME Corp.

## Service Details
- Service name: acme-platform-auth
- Type: Microservice
- Team: Platform Engineering

## Special Notes
- Uses OAuth2 with Keycloak integration
- Has both REST and gRPC endpoints
- The `internal/` directory contains shared libraries, not separate services
```
  </action>
  <verify>ls docs/examples/ shows both files; cat each to verify content</verify>
  <done>Two example files created with realistic content</done>
</task>

<task type="auto">
  <name>Task 3: Create context file format reference</name>
  <files>docs/CONTEXT_FILES.md</files>
  <action>
Create a detailed reference document explaining context file format:

1. **Purpose**: Why context files improve discovery accuracy
2. **File Format**: Plain markdown, no special syntax
3. **Recommended Sections** (optional, not required):
   - Service Naming - naming patterns and conventions
   - Tech Stack - languages, frameworks, databases
   - Deployment - CI/CD, container, cloud indicators
   - Team Ownership - org structure hints
   - Repository-Specific Notes - special cases
4. **Best Practices**:
   - Keep it concise (under 4000 chars recommended)
   - Focus on patterns the AI can't easily detect
   - Update when conventions change
5. **How It Works**: Brief explanation of merge behavior (repo overrides org)
6. **Troubleshooting**: Common issues and solutions
  </action>
  <verify>cat docs/CONTEXT_FILES.md to verify comprehensive content</verify>
  <done>Reference document created with format specification and best practices</done>
</task>

</tasks>

<verification>
```bash
# Verify all documentation files exist
ls -la README.md docs/examples/ docs/CONTEXT_FILES.md

# Check README section exists
grep -n "User-Provided Context" README.md
```
All documentation files exist and README contains new section.
</verification>

<success_criteria>
- README.md updated with context documentation section
- docs/examples/org-context-example.md created
- docs/examples/repo-context-example.md created
- docs/CONTEXT_FILES.md created with format reference
- All files use clear, user-friendly language
- Phase 5 complete, milestone ready for verification
</success_criteria>

<output>
After completion, create `.planning/phases/05-testing-documentation/05-03-SUMMARY.md`:

# Phase 5 Plan 3: Documentation Summary

**[Context system documentation added to README with example files]**

## Performance
- Duration: X min
- Tasks: 3
- Files modified: 4

## Accomplishments
- README updated with context documentation
- Example context files created
- Format reference document created

## Task Commits
1. Task 1: [commit hash] - README context documentation
2. Task 2: [commit hash] - Example context files
3. Task 3: [commit hash] - Context file format reference

## Files Created/Modified
- README.md - Added User-Provided Context section
- docs/examples/org-context-example.md - Organization context example
- docs/examples/repo-context-example.md - Repository context example
- docs/CONTEXT_FILES.md - Format reference and best practices

## Next Step
Phase 5 complete. Milestone ready for /gsd:verify-work.
</output>
